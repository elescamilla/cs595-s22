<!doctype html>
<html>

<head>
    <title>This is the title of the webpage!</title>
</head>

<body>
    <p id=1> Headers from the request to /blockedHeaders:
        <br> 
    </p>
    <p id=2>
        Headers exposed to javascript from the request to /allowedHeaders:
        <br>
    </p>
    <script>
        let req1 = new XMLHttpRequest();
        let req2 = new XMLHttpRequest();
        req1.open("GET", "http://localhost:4000/blockedHeaders", false);
        req1.send();
        req2.open("GET", "http://localhost:4000/allowedHeaders", false)
        req2.send();
        var headerArr1 = req1.getAllResponseHeaders().trim().split(/[\r\n]+/);
        for (const header of headerArr1){
            document.getElementById(1).appendChild(document.createTextNode(header));
            document.getElementById(1).appendChild(document.createElement('br'));
        }
        var headerArr2 = req2.getAllResponseHeaders().trim().split(/[\r\n]+/)
        for (const header of headerArr2){
            document.getElementById(2).appendChild(document.createTextNode(header));
            document.getElementById(2).appendChild(document.createElement('br'));
        }
        
    </script>
</body>

</html>